"use strict";function _instanceof(t,e){return null!=e&&"undefined"!=typeof Symbol&&e[Symbol.hasInstance]?e[Symbol.hasInstance](t):t instanceof e}function _toConsumableArray(t){return _arrayWithoutHoles(t)||_iterableToArray(t)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}function _arrayWithoutHoles(t){if(Array.isArray(t)){for(var e=0,r=new Array(t.length);e<t.length;e++)r[e]=t[e];return r}}function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var Scrambler=function(t){try{var e=function(t){var e=t||1,r=Math.random().toString(36).replace(/[^a-z]+/g,"").substr(0,e);if(" \t\n\r\v".indexOf(r)<0)return r},r=!!(o=t)&&o.constructor===Object||"object"==_typeof(t);r&&(t.target=void 0!==t.target&&r?t.target:"[data-scrambler]",t.random=void 0!==t.random&&r?t.random:[1e3,3e3],t.speed=void 0!==t.speed&&r?t.speed:100,t.text=!(void 0===t.text||!r)&&t.text);var n=function(){return r?t.random[0]+(Math.random()*(1-t.random[1])+t.random[1]):-2999*Math.random()+3e3+1e3};!function(t){_toConsumableArray(r?document.querySelectorAll(t.target):document.querySelectorAll(t)).forEach(function(r,o){if("true"!==r.getAttribute("data-scramble-active")){r.setAttribute("data-scramble-active","true");var a=r.textContent.split(""),i=r.innerHTML,c=a,u=r.textContent.split(""),l=[],f=t.speed?t.speed:100,s=!1,b=function(t){var n=t||r.textContent;a=n.split(""),u=n.split(""),c=[],a.forEach(function(t,r){" \t\n\r\v".indexOf(a[r])>-1?c.push(" "):c.push(e())}),c=c};t.text&&""!==t.text&&("string"==typeof t.text||_instanceof(t.text,String))?(b(t.text),s=!0):r.getAttribute("data-scramble-text")&&""!==r.getAttribute("data-scramble-text")&&(b(r.getAttribute("data-scramble-text")),s=!0);var d=setInterval(function(){if(c.map(function(t,o){" \t\n\r\v".indexOf(t)>-1||(u[o]=e(),setTimeout(function(){l[o]=!0},n()),!0===l[o]&&(u[o]=a[o]),r.textContent=u.join(""))}),u.length==a.length&&u.every(function(t,e){return t===a[e]})){if(r.innerHTML=i,s){var t=r.children[0];t&&""!==t&&(t.textContent=u.join(""))}clearInterval(d),r.setAttribute("data-scramble-active","false")}},f)}})}(t)}catch(t){console.trace("%cuh-oh: %c"+t,"color:indianred;","color:cornflowerblue;")}var o};
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNjcmFtYmxlLUVTNS5qcyJdLCJuYW1lcyI6WyJfaW5zdGFuY2VvZiIsImxlZnQiLCJyaWdodCIsIlN5bWJvbCIsImhhc0luc3RhbmNlIiwiX3RvQ29uc3VtYWJsZUFycmF5IiwiYXJyIiwiX2FycmF5V2l0aG91dEhvbGVzIiwiX2l0ZXJhYmxlVG9BcnJheSIsIl9ub25JdGVyYWJsZVNwcmVhZCIsIlR5cGVFcnJvciIsIml0ZXIiLCJpdGVyYXRvciIsIk9iamVjdCIsInByb3RvdHlwZSIsInRvU3RyaW5nIiwiY2FsbCIsIkFycmF5IiwiZnJvbSIsImlzQXJyYXkiLCJpIiwiYXJyMiIsImxlbmd0aCIsIl90eXBlb2YiLCJvYmoiLCJjb25zdHJ1Y3RvciIsIlNjcmFtYmxlciIsInNjcmFtYmxlQXJncyIsInJhbmRvbUNoYXIiLCJsIiwiciIsIk1hdGgiLCJyYW5kb20iLCJyZXBsYWNlIiwic3Vic3RyIiwiaW5kZXhPZiIsInBhc3NlZEFzT2JqZWN0IiwiYSIsInRhcmdldCIsInNwZWVkIiwidGV4dCIsInJhbmRvbVRpbWUiLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJmb3JFYWNoIiwiZWxlbWVudCIsIndoaWNoIiwiZ2V0QXR0cmlidXRlIiwic2V0QXR0cmlidXRlIiwidHJ1dGgiLCJ0ZXh0Q29udGVudCIsInNwbGl0IiwidHJ1dGhIVE1MIiwiaW5uZXJIVE1MIiwic3RhcnRUZXh0IiwibmV3TGV0dGVycyIsInJldmVydCIsIkhUTUxyZXNldCIsImRlZmluZUVuZFRleHQiLCJlbmQiLCJlbmRUZXh0IiwiaXRlbSIsImluZGV4IiwicHVzaCIsIlN0cmluZyIsInRpY2tlciIsInNldEludGVydmFsIiwibWFwIiwibGV0dGVyIiwic2V0VGltZW91dCIsImpvaW4iLCJldmVyeSIsImUiLCJpbm5lckNvbnRlbnQiLCJjaGlsZHJlbiIsImNsZWFySW50ZXJ2YWwiLCJzY3JhbWJsZUZpcmUiLCJjb25zb2xlIiwidHJhY2UiXSwibWFwcGluZ3MiOiJBQUFB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QUlWM0IsRUFBYWEsTUFBOEIsS0FBdEJiLEVBQWFhLE9BQTZDLGlCQUF0QmIsRUFBYWEsTUFBcUJ4QyxZQUFZMkIsRUFBYWEsS0FBTXdCLFVBQzVITixFQUFjL0IsRUFBYWEsTUFDM0JpQixHQUFZLEdBQ0haLEVBQVFFLGFBQWEsdUJBQXdFLEtBQS9DRixFQUFRRSxhQUFhLHdCQUM1RVcsRUFBY2IsRUFBUUUsYUFBYSx1QkFDbkNVLEdBQVksR0FHZCxJQUFJUSxFQUFTQyxZQUFZLFdBeUJ2QixHQXZCQVosRUFBVWEsSUFBSSxTQUFVQyxFQUFRaEQsR0FFMUIsWUFBWWUsUUFBUWlDLElBQVcsSUFFbkNiLEVBQVduQyxHQUFLUSxJQUVoQnlDLFdBQVcsV0FDVGIsRUFBT3BDLElBQUssR0FDWHFCLE1BRWUsSUFBZGUsRUFBT3BDLEtBQ1RtQyxFQUFXbkMsR0FBSzZCLEVBQU03QixJQUt4QnlCLEVBQVFLLFlBQWNLLEVBQVdlLEtBQUssT0FHeEJmLEVBQVdqQyxRQUFVMkIsRUFBTTNCLFFBQVVpQyxFQUFXZ0IsTUFBTSxTQUFVQyxFQUFHcEQsR0FDakYsT0FBT29ELElBQU12QixFQUFNN0IsS0FHTixDQUdiLEdBRkF5QixFQUFRUSxVQUFZRCxFQUVoQkssRUFBVyxDQUNiLElBQUlnQixFQUFlNUIsRUFBUTZCLFNBQVMsR0FFaENELEdBQWlDLEtBQWpCQSxJQUNsQkEsRUFBYXZCLFlBQWNLLEVBQVdlLEtBQUssS0FJL0NLLGNBQWNWLEdBRWRwQixFQUFRRyxhQUFhLHVCQUF3QixXQUk5Q1QsTUFzQ1RxQyxDQUFhakQsR0FFYixNQUFPNkMsR0FDUEssUUFBUUMsTUFBTSxjQUFnQk4sRUFBUSxtQkFBb0IseUJBMUIzQyxJQUFrQm5DIiwiZmlsZSI6InNjcmFtYmxlLUVTNS5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcclxuXHJcbmZ1bmN0aW9uIF9pbnN0YW5jZW9mKGxlZnQsIHJpZ2h0KSB7IGlmIChyaWdodCAhPSBudWxsICYmIHR5cGVvZiBTeW1ib2wgIT09IFwidW5kZWZpbmVkXCIgJiYgcmlnaHRbU3ltYm9sLmhhc0luc3RhbmNlXSkgeyByZXR1cm4gcmlnaHRbU3ltYm9sLmhhc0luc3RhbmNlXShsZWZ0KTsgfSBlbHNlIHsgcmV0dXJuIGxlZnQgaW5zdGFuY2VvZiByaWdodDsgfSB9XHJcblxyXG5mdW5jdGlvbiBfdG9Db25zdW1hYmxlQXJyYXkoYXJyKSB7IHJldHVybiBfYXJyYXlXaXRob3V0SG9sZXMoYXJyKSB8fCBfaXRlcmFibGVUb0FycmF5KGFycikgfHwgX25vbkl0ZXJhYmxlU3ByZWFkKCk7IH1cclxuXHJcbmZ1bmN0aW9uIF9ub25JdGVyYWJsZVNwcmVhZCgpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkludmFsaWQgYXR0ZW1wdCB0byBzcHJlYWQgbm9uLWl0ZXJhYmxlIGluc3RhbmNlXCIpOyB9XHJcblxyXG5mdW5jdGlvbiBfaXRlcmFibGVUb0FycmF5KGl0ZXIpIHsgaWYgKFN5bWJvbC5pdGVyYXRvciBpbiBPYmplY3QoaXRlcikgfHwgT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGl0ZXIpID09PSBcIltvYmplY3QgQXJndW1lbnRzXVwiKSByZXR1cm4gQXJyYXkuZnJvbShpdGVyKTsgfVxyXG5cclxuZnVuY3Rpb24gX2FycmF5V2l0aG91dEhvbGVzKGFycikgeyBpZiAoQXJyYXkuaXNBcnJheShhcnIpKSB7IGZvciAodmFyIGkgPSAwLCBhcnIyID0gbmV3IEFycmF5KGFyci5sZW5ndGgpOyBpIDwgYXJyLmxlbmd0aDsgaSsrKSB7IGFycjJbaV0gPSBhcnJbaV07IH0gcmV0dXJuIGFycjI7IH0gfVxyXG5cclxuZnVuY3Rpb24gX3R5cGVvZihvYmopIHsgaWYgKHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiB0eXBlb2YgU3ltYm9sLml0ZXJhdG9yID09PSBcInN5bWJvbFwiKSB7IF90eXBlb2YgPSBmdW5jdGlvbiBfdHlwZW9mKG9iaikgeyByZXR1cm4gdHlwZW9mIG9iajsgfTsgfSBlbHNlIHsgX3R5cGVvZiA9IGZ1bmN0aW9uIF90eXBlb2Yob2JqKSB7IHJldHVybiBvYmogJiYgdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIG9iai5jb25zdHJ1Y3RvciA9PT0gU3ltYm9sICYmIG9iaiAhPT0gU3ltYm9sLnByb3RvdHlwZSA/IFwic3ltYm9sXCIgOiB0eXBlb2Ygb2JqOyB9OyB9IHJldHVybiBfdHlwZW9mKG9iaik7IH1cclxuXHJcbnZhciBTY3JhbWJsZXIgPSBmdW5jdGlvbiBTY3JhbWJsZXIoc2NyYW1ibGVBcmdzKSB7XHJcbiAgdHJ5IHtcclxuICAgIC8vIGNhbGwgYWN0aW9uIGZuXHJcbiAgICB2YXIgc2NyYW1ibGVGaXJlID0gZnVuY3Rpb24gc2NyYW1ibGVGaXJlKHNjcmFtYmxlQXJncykge1xyXG4gICAgICAvLyByZW1lbWJlciwgaG9pc3RlZFxyXG4gICAgICAvLyBnZXQgY2hvc2VuIHNjcmFtYmxlIGl0ZW1zXHJcbiAgICAgIHZhciBzY3JhbWJsZSA9IHBhc3NlZEFzT2JqZWN0ID8gX3RvQ29uc3VtYWJsZUFycmF5KGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoc2NyYW1ibGVBcmdzLnRhcmdldCkpIDogX3RvQ29uc3VtYWJsZUFycmF5KGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoc2NyYW1ibGVBcmdzKSk7IC8vIGZvciBlYWNoIHNjcmFtYmxlIGVsZW1lbnRcclxuXHJcbiAgICAgIHNjcmFtYmxlLmZvckVhY2goZnVuY3Rpb24gKGVsZW1lbnQsIHdoaWNoKSB7XHJcbiAgICAgICAgaWYgKGVsZW1lbnQuZ2V0QXR0cmlidXRlKCdkYXRhLXNjcmFtYmxlLWFjdGl2ZScpICE9PSAndHJ1ZScpIHtcclxuICAgICAgICAgIGVsZW1lbnQuc2V0QXR0cmlidXRlKCdkYXRhLXNjcmFtYmxlLWFjdGl2ZScsICd0cnVlJyk7XHJcbiAgICAgICAgICB2YXIgdHJ1dGggPSBlbGVtZW50LnRleHRDb250ZW50LnNwbGl0KCcnKTsgLy8gZ2V0IGxldHRlcnNcclxuXHJcbiAgICAgICAgICB2YXIgdHJ1dGhIVE1MID0gZWxlbWVudC5pbm5lckhUTUw7IC8vIGdldCBodG1sXHJcblxyXG4gICAgICAgICAgdmFyIHN0YXJ0VGV4dCA9IHRydXRoO1xyXG4gICAgICAgICAgdmFyIG5ld0xldHRlcnMgPSBlbGVtZW50LnRleHRDb250ZW50LnNwbGl0KCcnKTtcclxuICAgICAgICAgIHZhciByZXZlcnQgPSBbXTsgLy8gaW5pdCBlbXB0eSBraWxsIHN3aXRjaCBhcnJheVx0XHJcblxyXG4gICAgICAgICAgdmFyIHNwZWVkID0gc2NyYW1ibGVBcmdzLnNwZWVkID8gc2NyYW1ibGVBcmdzLnNwZWVkIDogMTAwO1xyXG4gICAgICAgICAgdmFyIEhUTUxyZXNldCA9IGZhbHNlOyAvLyBpZiB1c2VyIGRlZmluZXMgYW4gZW5kaW5nIHRleHQgc3RyaW5nIHRoZW4gdXNlIHRoYXQgaW5zdGVhZCBvZiB0aGUgb3JpZ2luYWwgdGV4dFxyXG5cclxuICAgICAgICAgIHZhciBkZWZpbmVFbmRUZXh0ID0gZnVuY3Rpb24gZGVmaW5lRW5kVGV4dChlbmQpIHtcclxuICAgICAgICAgICAgdmFyIGVuZFRleHQgPSBlbmQgfHwgZWxlbWVudC50ZXh0Q29udGVudDtcclxuICAgICAgICAgICAgdHJ1dGggPSBlbmRUZXh0LnNwbGl0KCcnKTtcclxuICAgICAgICAgICAgbmV3TGV0dGVycyA9IGVuZFRleHQuc3BsaXQoJycpO1xyXG4gICAgICAgICAgICBzdGFydFRleHQgPSBbXTtcclxuICAgICAgICAgICAgdHJ1dGguZm9yRWFjaChmdW5jdGlvbiAoaXRlbSwgaW5kZXgpIHtcclxuICAgICAgICAgICAgICBpZiAoJyBcXHRcXG5cXHJcXHYnLmluZGV4T2YodHJ1dGhbaW5kZXhdKSA+IC0xKSB7XHJcbiAgICAgICAgICAgICAgICBzdGFydFRleHQucHVzaCgnICcpO1xyXG4gICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBzdGFydFRleHQucHVzaChyYW5kb21DaGFyKCkpO1xyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIHN0YXJ0VGV4dCA9IHN0YXJ0VGV4dDtcclxuICAgICAgICAgIH07IC8vIGZpcnN0IGNoZWNrIHBhc3NlZCBvcHRpb24gYW5kIHRoZW4gZGF0YS1hdHRyaWJ1dGUgXHJcblxyXG5cclxuICAgICAgICAgIGlmIChzY3JhbWJsZUFyZ3MudGV4dCAmJiBzY3JhbWJsZUFyZ3MudGV4dCAhPT0gXCJcIiAmJiAodHlwZW9mIHNjcmFtYmxlQXJncy50ZXh0ID09PSAnc3RyaW5nJyB8fCBfaW5zdGFuY2VvZihzY3JhbWJsZUFyZ3MudGV4dCwgU3RyaW5nKSkpIHtcclxuICAgICAgICAgICAgZGVmaW5lRW5kVGV4dChzY3JhbWJsZUFyZ3MudGV4dCk7XHJcbiAgICAgICAgICAgIEhUTUxyZXNldCA9IHRydWU7XHJcbiAgICAgICAgICB9IGVsc2UgaWYgKGVsZW1lbnQuZ2V0QXR0cmlidXRlKCdkYXRhLXNjcmFtYmxlLXRleHQnKSAmJiBlbGVtZW50LmdldEF0dHJpYnV0ZSgnZGF0YS1zY3JhbWJsZS10ZXh0JykgIT09IFwiXCIpIHtcclxuICAgICAgICAgICAgZGVmaW5lRW5kVGV4dChlbGVtZW50LmdldEF0dHJpYnV0ZSgnZGF0YS1zY3JhbWJsZS10ZXh0JykpO1xyXG4gICAgICAgICAgICBIVE1McmVzZXQgPSB0cnVlO1xyXG4gICAgICAgICAgfVxyXG5cclxuICAgICAgICAgIHZhciB0aWNrZXIgPSBzZXRJbnRlcnZhbChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIC8vIG1hcCBvdmVyIGxldHRlcnMgYW5kIHJlcGxhY2Ugd2l0aCByYW5kb20gb3IgcmV2ZXJ0IGJhY2sgdG8gdHJ1dGhcclxuICAgICAgICAgICAgc3RhcnRUZXh0Lm1hcChmdW5jdGlvbiAobGV0dGVyLCBpKSB7XHJcbiAgICAgICAgICAgICAgLy8gYnJlYWsgaWYgYSBzcGFjZVxyXG4gICAgICAgICAgICAgIGlmICgnIFxcdFxcblxcclxcdicuaW5kZXhPZihsZXR0ZXIpID4gLTEpIHJldHVybjsgLy8gc2V0IG5ldyByYW5kb20gbGV0dGVyXHJcblxyXG4gICAgICAgICAgICAgIG5ld0xldHRlcnNbaV0gPSByYW5kb21DaGFyKCk7IC8vIHNldCByYW5kb20gdGltZW91dCB0byBtYWtlIGxldHRlcnMgcmVzZXQgYXQgZGlmZmVyZW50IHRpbWVzXHJcblxyXG4gICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgcmV2ZXJ0W2ldID0gdHJ1ZTtcclxuICAgICAgICAgICAgICB9LCByYW5kb21UaW1lKCkpOyAvLyByZXNldCBpbmRpdmlkdWFsIGxldHRlciBpZiBraWxsIHN3aXRjaFxyXG5cclxuICAgICAgICAgICAgICBpZiAocmV2ZXJ0W2ldID09PSB0cnVlKSB7XHJcbiAgICAgICAgICAgICAgICBuZXdMZXR0ZXJzW2ldID0gdHJ1dGhbaV07XHJcbiAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICA7IC8vIHNldCBodG1sXHJcblxyXG4gICAgICAgICAgICAgIGVsZW1lbnQudGV4dENvbnRlbnQgPSBuZXdMZXR0ZXJzLmpvaW4oJycpO1xyXG4gICAgICAgICAgICB9KTsgLy8ga2lsbCBpbnRlcnZhbCBhZnRlciBhbGwgbGV0dGVyIHJldHVybmVkIHRvIG5vcm1hbCB0byBzYXZlIHN0YWNrXHJcblxyXG4gICAgICAgICAgICB2YXIga2lsbENoZWNrID0gbmV3TGV0dGVycy5sZW5ndGggPT0gdHJ1dGgubGVuZ3RoICYmIG5ld0xldHRlcnMuZXZlcnkoZnVuY3Rpb24gKGUsIGkpIHtcclxuICAgICAgICAgICAgICByZXR1cm4gZSA9PT0gdHJ1dGhbaV07XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgaWYgKGtpbGxDaGVjaykge1xyXG4gICAgICAgICAgICAgIGVsZW1lbnQuaW5uZXJIVE1MID0gdHJ1dGhIVE1MO1xyXG5cclxuICAgICAgICAgICAgICBpZiAoSFRNTHJlc2V0KSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgaW5uZXJDb250ZW50ID0gZWxlbWVudC5jaGlsZHJlblswXTtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoaW5uZXJDb250ZW50ICYmIGlubmVyQ29udGVudCAhPT0gXCJcIikge1xyXG4gICAgICAgICAgICAgICAgICBpbm5lckNvbnRlbnQudGV4dENvbnRlbnQgPSBuZXdMZXR0ZXJzLmpvaW4oJycpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgY2xlYXJJbnRlcnZhbCh0aWNrZXIpOyAvLyBzdG9wIGxvb3BpbmdcclxuXHJcbiAgICAgICAgICAgICAgZWxlbWVudC5zZXRBdHRyaWJ1dGUoJ2RhdGEtc2NyYW1ibGUtYWN0aXZlJywgJ2ZhbHNlJyk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIDtcclxuICAgICAgICAgIH0sIHNwZWVkKTsgLy8gZW5kIHRpY2tlclxyXG4gICAgICAgIH0gLy8gZW5kIGNoZWNrIGZvciBhY3RpdmVcclxuXHJcbiAgICAgIH0pOyAvLyBlbmQgZm9yRWFjaFxyXG4gICAgfTtcclxuXHJcbiAgICAvKioqIGhlbHBlciBmdW5jdGlvbnMgKioqL1xyXG4gICAgLy8gdXRpbGl0eSBmbiB0byBnZXQgYSByYW5kb20gY2hhcmFjdGVyIFxyXG4gICAgdmFyIHJhbmRvbUNoYXIgPSBmdW5jdGlvbiByYW5kb21DaGFyKGxlbmd0aCkge1xyXG4gICAgICB2YXIgbCA9IGxlbmd0aCB8fCAxO1xyXG4gICAgICB2YXIgciA9IE1hdGgucmFuZG9tKCkudG9TdHJpbmcoMzYpLnJlcGxhY2UoL1teYS16XSsvZywgJycpLnN1YnN0cigwLCBsKTtcclxuICAgICAgaWYgKCcgXFx0XFxuXFxyXFx2Jy5pbmRleE9mKHIpIDwgMCkgcmV0dXJuIHI7XHJcbiAgICB9OyAvLyBvYmplY3QgdGVzdFxyXG5cclxuXHJcbiAgICB2YXIgaXNPYmplY3QgPSBmdW5jdGlvbiBpc09iamVjdChhKSB7XHJcbiAgICAgIHJldHVybiAhIWEgJiYgYS5jb25zdHJ1Y3RvciA9PT0gT2JqZWN0O1xyXG4gICAgfTsgLy8gZGlkIHRoZSB1c2VyIHBhc3MgYW4gb2JqZWN0IGFzIGFuIGFyZ3VtZW50P1xyXG5cclxuXHJcbiAgICB2YXIgcGFzc2VkQXNPYmplY3QgPSBpc09iamVjdChzY3JhbWJsZUFyZ3MpIHx8IF90eXBlb2Yoc2NyYW1ibGVBcmdzKSA9PSAnb2JqZWN0JzsgLy8gc2V0IGZ1bmN0aW9uIGRlZmF1bHQgYXJndW1lbnRzIGlmIGl0IHdhcyBhbiBvYmplY3RcclxuXHJcbiAgICBpZiAocGFzc2VkQXNPYmplY3QpIHtcclxuICAgICAgc2NyYW1ibGVBcmdzLnRhcmdldCA9IHR5cGVvZiBzY3JhbWJsZUFyZ3MudGFyZ2V0ICE9PSAndW5kZWZpbmVkJyAmJiBwYXNzZWRBc09iamVjdCA/IHNjcmFtYmxlQXJncy50YXJnZXQgOiAnW2RhdGEtc2NyYW1ibGVyXSc7XHJcbiAgICAgIHNjcmFtYmxlQXJncy5yYW5kb20gPSB0eXBlb2Ygc2NyYW1ibGVBcmdzLnJhbmRvbSAhPT0gJ3VuZGVmaW5lZCcgJiYgcGFzc2VkQXNPYmplY3QgPyBzY3JhbWJsZUFyZ3MucmFuZG9tIDogWzEwMDAsIDMwMDBdO1xyXG4gICAgICBzY3JhbWJsZUFyZ3Muc3BlZWQgPSB0eXBlb2Ygc2NyYW1ibGVBcmdzLnNwZWVkICE9PSAndW5kZWZpbmVkJyAmJiBwYXNzZWRBc09iamVjdCA/IHNjcmFtYmxlQXJncy5zcGVlZCA6IDEwMDtcclxuICAgICAgc2NyYW1ibGVBcmdzLnRleHQgPSB0eXBlb2Ygc2NyYW1ibGVBcmdzLnRleHQgIT09ICd1bmRlZmluZWQnICYmIHBhc3NlZEFzT2JqZWN0ID8gc2NyYW1ibGVBcmdzLnRleHQgOiBmYWxzZTtcclxuICAgIH0gLy8gdXRpbGl0eSBmbiB0byBnZXQgYSByYW5kb20gZGVsYXkgdGltZSBcclxuXHJcblxyXG4gICAgdmFyIHJhbmRvbVRpbWUgPSBmdW5jdGlvbiByYW5kb21UaW1lKCkge1xyXG4gICAgICBpZiAocGFzc2VkQXNPYmplY3QpIHtcclxuICAgICAgICByZXR1cm4gc2NyYW1ibGVBcmdzLnJhbmRvbVswXSArIChNYXRoLnJhbmRvbSgpICogKDEgLSBzY3JhbWJsZUFyZ3MucmFuZG9tWzFdKSArIHNjcmFtYmxlQXJncy5yYW5kb21bMV0pO1xyXG4gICAgICB9XHJcblxyXG4gICAgICByZXR1cm4gMTAwMCArIChNYXRoLnJhbmRvbSgpICogKDEgLSAzMDAwKSArIDMwMDApO1xyXG4gICAgfTtcclxuXHJcbiAgICBzY3JhbWJsZUZpcmUoc2NyYW1ibGVBcmdzKTtcclxuICAgIDsgLy8gZW5kIHNjcmFtYmxlRmlyZVxyXG4gIH0gY2F0Y2ggKGUpIHtcclxuICAgIGNvbnNvbGUudHJhY2UoJyVjdWgtb2g6ICVjJyArIGUgKyAnJywgJ2NvbG9yOmluZGlhbnJlZDsnLCAnY29sb3I6Y29ybmZsb3dlcmJsdWU7Jyk7XHJcbiAgfVxyXG59OyAvLyBlbmQgU2NyYW1ibGUiXX0=
