"use strict";function _instanceof(t,e){return null!=e&&"undefined"!=typeof Symbol&&e[Symbol.hasInstance]?e[Symbol.hasInstance](t):t instanceof e}function _toConsumableArray(t){return _arrayWithoutHoles(t)||_iterableToArray(t)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}function _arrayWithoutHoles(t){if(Array.isArray(t)){for(var e=0,r=new Array(t.length);e<t.length;e++)r[e]=t[e];return r}}function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var Scrambler=function(t){try{var e=function(t){var e=t||1,r=Math.random().toString(36).replace(/[^a-z]+/g,"").substr(0,e);if(" \t\n\r\v".indexOf(r)<0)return r},r=!!(o=t)&&o.constructor===Object||"object"==_typeof(t);r&&(t.target=void 0!==t.target&&r?t.target:"[data-scrambler]",t.random=void 0!==t.random&&r?t.random:[1e3,3e3],t.speed=void 0!==t.speed&&r?t.speed:100,t.text=!(void 0===t.text||!r)&&t.text);var n=function(){return r?t.random[0]+(Math.random()*(1-t.random[1])+t.random[1]):-2999*Math.random()+3e3+1e3};!function(t){_toConsumableArray(r?document.querySelectorAll(t.target):document.querySelectorAll(t)).forEach(function(r,o){if("true"!==r.getAttribute("data-scramble-active")){r.setAttribute("data-scramble-active","true");var a=r.textContent.split(""),i=r.innerHTML,c=a,u=r.textContent.split(""),l=[],f=t.speed?t.speed:100,s=!1,b=function(t){var n=t||r.textContent;a=n.split(""),u=n.split(""),c=[],a.forEach(function(t,r){" \t\n\r\v".indexOf(a[r])>-1?c.push(" "):c.push(e())}),c=c};t.text&&""!==t.text&&("string"==typeof t.text||_instanceof(t.text,String))?(b(t.text),s=!0):r.getAttribute("data-scramble-text")&&""!==r.getAttribute("data-scramble-text")&&(b(r.getAttribute("data-scramble-text")),s=!0);var d=setInterval(function(){if(c.map(function(t,o){" \t\n\r\v".indexOf(t)>-1||(u[o]=e(),setTimeout(function(){l[o]=!0},n()),!0===l[o]&&(u[o]=a[o]),r.textContent=u.join(""))}),u.length==a.length&&u.every(function(t,e){return t===a[e]})){if(r.innerHTML=i,s){var t=r.children[0];t&&""!==t?t.textContent=u.join(""):r.textContent=u.join("")}clearInterval(d),r.setAttribute("data-scramble-active","false")}},f)}})}(t)}catch(t){console.trace("%cuh-oh: %c"+t,"color:indianred;","color:cornflowerblue;")}var o};
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNjcmFtYmxlLUVTNS5qcyJdLCJuYW1lcyI6WyJfaW5zdGFuY2VvZiIsImxlZnQiLCJyaWdodCIsIlN5bWJvbCIsImhhc0luc3RhbmNlIiwiX3RvQ29uc3VtYWJsZUFycmF5IiwiYXJyIiwiX2FycmF5V2l0aG91dEhvbGVzIiwiX2l0ZXJhYmxlVG9BcnJheSIsIl9ub25JdGVyYWJsZVNwcmVhZCIsIlR5cGVFcnJvciIsIml0ZXIiLCJpdGVyYXRvciIsIk9iamVjdCIsInByb3RvdHlwZSIsInRvU3RyaW5nIiwiY2FsbCIsIkFycmF5IiwiZnJvbSIsImlzQXJyYXkiLCJpIiwiYXJyMiIsImxlbmd0aCIsIl90eXBlb2YiLCJvYmoiLCJjb25zdHJ1Y3RvciIsIlNjcmFtYmxlciIsInNjcmFtYmxlQXJncyIsInJhbmRvbUNoYXIiLCJsIiwiciIsIk1hdGgiLCJyYW5kb20iLCJyZXBsYWNlIiwic3Vic3RyIiwiaW5kZXhPZiIsInBhc3NlZEFzT2JqZWN0IiwiYSIsInRhcmdldCIsInNwZWVkIiwidGV4dCIsInJhbmRvbVRpbWUiLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJmb3JFYWNoIiwiZWxlbWVudCIsIndoaWNoIiwiZ2V0QXR0cmlidXRlIiwic2V0QXR0cmlidXRlIiwidHJ1dGgiLCJ0ZXh0Q29udGVudCIsInNwbGl0IiwidHJ1dGhIVE1MIiwiaW5uZXJIVE1MIiwic3RhcnRUZXh0IiwibmV3TGV0dGVycyIsInJldmVydCIsIkhUTUxyZXNldCIsImRlZmluZUVuZFRleHQiLCJlbmQiLCJlbmRUZXh0IiwiaXRlbSIsImluZGV4IiwicHVzaCIsIlN0cmluZyIsInRpY2tlciIsInNldEludGVydmFsIiwibWFwIiwibGV0dGVyIiwic2V0VGltZW91dCIsImpvaW4iLCJldmVyeSIsImUiLCJpbm5lckNvbnRlbnQiLCJjaGlsZHJlbiIsImNsZWFySW50ZXJ2YWwiLCJzY3JhbWJsZUZpcmUiLCJjb25zb2xlIiwidHJhY2UiXSwibWFwcGluZ3MiOiJBQUFB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QUlWM0IsRUFBYWEsTUFBOEIsS0FBdEJiLEVBQWFhLE9BQTZDLGlCQUF0QmIsRUFBYWEsTUFBcUJ4QyxZQUFZMkIsRUFBYWEsS0FBTXdCLFVBQzVITixFQUFjL0IsRUFBYWEsTUFDM0JpQixHQUFZLEdBQ0haLEVBQVFFLGFBQWEsdUJBQXdFLEtBQS9DRixFQUFRRSxhQUFhLHdCQUM1RVcsRUFBY2IsRUFBUUUsYUFBYSx1QkFDbkNVLEdBQVksR0FHZCxJQUFJUSxFQUFTQyxZQUFZLFdBeUJ2QixHQXZCQVosRUFBVWEsSUFBSSxTQUFVQyxFQUFRaEQsR0FFMUIsWUFBWWUsUUFBUWlDLElBQVcsSUFFbkNiLEVBQVduQyxHQUFLUSxJQUVoQnlDLFdBQVcsV0FDVGIsRUFBT3BDLElBQUssR0FDWHFCLE1BRWUsSUFBZGUsRUFBT3BDLEtBQ1RtQyxFQUFXbkMsR0FBSzZCLEVBQU03QixJQUt4QnlCLEVBQVFLLFlBQWNLLEVBQVdlLEtBQUssT0FHeEJmLEVBQVdqQyxRQUFVMkIsRUFBTTNCLFFBQVVpQyxFQUFXZ0IsTUFBTSxTQUFVQyxFQUFHcEQsR0FDakYsT0FBT29ELElBQU12QixFQUFNN0IsS0FHTixDQUdiLEdBRkF5QixFQUFRUSxVQUFZRCxFQUVoQkssRUFBVyxDQUNiLElBQUlnQixFQUFlNUIsRUFBUTZCLFNBQVMsR0FFaENELEdBQWlDLEtBQWpCQSxFQUNsQkEsRUFBYXZCLFlBQWNLLEVBQVdlLEtBQUssSUFFM0N6QixFQUFRSyxZQUFjSyxFQUFXZSxLQUFLLElBSTFDSyxjQUFjVixHQUVkcEIsRUFBUUcsYUFBYSx1QkFBd0IsV0FJOUNULE1Bc0NUcUMsQ0FBYWpELEdBRWIsTUFBTzZDLEdBQ1BLLFFBQVFDLE1BQU0sY0FBZ0JOLEVBQVEsbUJBQW9CLHlCQTFCM0MsSUFBa0JuQyIsImZpbGUiOiJzY3JhbWJsZS1FUzUubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XHJcblxyXG5mdW5jdGlvbiBfaW5zdGFuY2VvZihsZWZ0LCByaWdodCkgeyBpZiAocmlnaHQgIT0gbnVsbCAmJiB0eXBlb2YgU3ltYm9sICE9PSBcInVuZGVmaW5lZFwiICYmIHJpZ2h0W1N5bWJvbC5oYXNJbnN0YW5jZV0pIHsgcmV0dXJuIHJpZ2h0W1N5bWJvbC5oYXNJbnN0YW5jZV0obGVmdCk7IH0gZWxzZSB7IHJldHVybiBsZWZ0IGluc3RhbmNlb2YgcmlnaHQ7IH0gfVxyXG5cclxuZnVuY3Rpb24gX3RvQ29uc3VtYWJsZUFycmF5KGFycikgeyByZXR1cm4gX2FycmF5V2l0aG91dEhvbGVzKGFycikgfHwgX2l0ZXJhYmxlVG9BcnJheShhcnIpIHx8IF9ub25JdGVyYWJsZVNwcmVhZCgpOyB9XHJcblxyXG5mdW5jdGlvbiBfbm9uSXRlcmFibGVTcHJlYWQoKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJJbnZhbGlkIGF0dGVtcHQgdG8gc3ByZWFkIG5vbi1pdGVyYWJsZSBpbnN0YW5jZVwiKTsgfVxyXG5cclxuZnVuY3Rpb24gX2l0ZXJhYmxlVG9BcnJheShpdGVyKSB7IGlmIChTeW1ib2wuaXRlcmF0b3IgaW4gT2JqZWN0KGl0ZXIpIHx8IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChpdGVyKSA9PT0gXCJbb2JqZWN0IEFyZ3VtZW50c11cIikgcmV0dXJuIEFycmF5LmZyb20oaXRlcik7IH1cclxuXHJcbmZ1bmN0aW9uIF9hcnJheVdpdGhvdXRIb2xlcyhhcnIpIHsgaWYgKEFycmF5LmlzQXJyYXkoYXJyKSkgeyBmb3IgKHZhciBpID0gMCwgYXJyMiA9IG5ldyBBcnJheShhcnIubGVuZ3RoKTsgaSA8IGFyci5sZW5ndGg7IGkrKykgeyBhcnIyW2ldID0gYXJyW2ldOyB9IHJldHVybiBhcnIyOyB9IH1cclxuXHJcbmZ1bmN0aW9uIF90eXBlb2Yob2JqKSB7IGlmICh0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgdHlwZW9mIFN5bWJvbC5pdGVyYXRvciA9PT0gXCJzeW1ib2xcIikgeyBfdHlwZW9mID0gZnVuY3Rpb24gX3R5cGVvZihvYmopIHsgcmV0dXJuIHR5cGVvZiBvYmo7IH07IH0gZWxzZSB7IF90eXBlb2YgPSBmdW5jdGlvbiBfdHlwZW9mKG9iaikgeyByZXR1cm4gb2JqICYmIHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBvYmouY29uc3RydWN0b3IgPT09IFN5bWJvbCAmJiBvYmogIT09IFN5bWJvbC5wcm90b3R5cGUgPyBcInN5bWJvbFwiIDogdHlwZW9mIG9iajsgfTsgfSByZXR1cm4gX3R5cGVvZihvYmopOyB9XHJcblxyXG52YXIgU2NyYW1ibGVyID0gZnVuY3Rpb24gU2NyYW1ibGVyKHNjcmFtYmxlQXJncykge1xyXG4gIHRyeSB7XHJcbiAgICAvLyBjYWxsIGFjdGlvbiBmblxyXG4gICAgdmFyIHNjcmFtYmxlRmlyZSA9IGZ1bmN0aW9uIHNjcmFtYmxlRmlyZShzY3JhbWJsZUFyZ3MpIHtcclxuICAgICAgLy8gcmVtZW1iZXIsIGhvaXN0ZWRcclxuICAgICAgLy8gZ2V0IGNob3NlbiBzY3JhbWJsZSBpdGVtc1xyXG4gICAgICB2YXIgc2NyYW1ibGUgPSBwYXNzZWRBc09iamVjdCA/IF90b0NvbnN1bWFibGVBcnJheShkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKHNjcmFtYmxlQXJncy50YXJnZXQpKSA6IF90b0NvbnN1bWFibGVBcnJheShkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKHNjcmFtYmxlQXJncykpOyAvLyBmb3IgZWFjaCBzY3JhbWJsZSBlbGVtZW50XHJcblxyXG4gICAgICBzY3JhbWJsZS5mb3JFYWNoKGZ1bmN0aW9uIChlbGVtZW50LCB3aGljaCkge1xyXG4gICAgICAgIGlmIChlbGVtZW50LmdldEF0dHJpYnV0ZSgnZGF0YS1zY3JhbWJsZS1hY3RpdmUnKSAhPT0gJ3RydWUnKSB7XHJcbiAgICAgICAgICBlbGVtZW50LnNldEF0dHJpYnV0ZSgnZGF0YS1zY3JhbWJsZS1hY3RpdmUnLCAndHJ1ZScpO1xyXG4gICAgICAgICAgdmFyIHRydXRoID0gZWxlbWVudC50ZXh0Q29udGVudC5zcGxpdCgnJyk7IC8vIGdldCBsZXR0ZXJzXHJcblxyXG4gICAgICAgICAgdmFyIHRydXRoSFRNTCA9IGVsZW1lbnQuaW5uZXJIVE1MOyAvLyBnZXQgaHRtbFxyXG5cclxuICAgICAgICAgIHZhciBzdGFydFRleHQgPSB0cnV0aDtcclxuICAgICAgICAgIHZhciBuZXdMZXR0ZXJzID0gZWxlbWVudC50ZXh0Q29udGVudC5zcGxpdCgnJyk7XHJcbiAgICAgICAgICB2YXIgcmV2ZXJ0ID0gW107IC8vIGluaXQgZW1wdHkga2lsbCBzd2l0Y2ggYXJyYXlcdFxyXG5cclxuICAgICAgICAgIHZhciBzcGVlZCA9IHNjcmFtYmxlQXJncy5zcGVlZCA/IHNjcmFtYmxlQXJncy5zcGVlZCA6IDEwMDtcclxuICAgICAgICAgIHZhciBIVE1McmVzZXQgPSBmYWxzZTsgLy8gaWYgdXNlciBkZWZpbmVzIGFuIGVuZGluZyB0ZXh0IHN0cmluZyB0aGVuIHVzZSB0aGF0IGluc3RlYWQgb2YgdGhlIG9yaWdpbmFsIHRleHRcclxuXHJcbiAgICAgICAgICB2YXIgZGVmaW5lRW5kVGV4dCA9IGZ1bmN0aW9uIGRlZmluZUVuZFRleHQoZW5kKSB7XHJcbiAgICAgICAgICAgIHZhciBlbmRUZXh0ID0gZW5kIHx8IGVsZW1lbnQudGV4dENvbnRlbnQ7XHJcbiAgICAgICAgICAgIHRydXRoID0gZW5kVGV4dC5zcGxpdCgnJyk7XHJcbiAgICAgICAgICAgIG5ld0xldHRlcnMgPSBlbmRUZXh0LnNwbGl0KCcnKTtcclxuICAgICAgICAgICAgc3RhcnRUZXh0ID0gW107XHJcbiAgICAgICAgICAgIHRydXRoLmZvckVhY2goZnVuY3Rpb24gKGl0ZW0sIGluZGV4KSB7XHJcbiAgICAgICAgICAgICAgaWYgKCcgXFx0XFxuXFxyXFx2Jy5pbmRleE9mKHRydXRoW2luZGV4XSkgPiAtMSkge1xyXG4gICAgICAgICAgICAgICAgc3RhcnRUZXh0LnB1c2goJyAnKTtcclxuICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgc3RhcnRUZXh0LnB1c2gocmFuZG9tQ2hhcigpKTtcclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBzdGFydFRleHQgPSBzdGFydFRleHQ7XHJcbiAgICAgICAgICB9OyAvLyBmaXJzdCBjaGVjayBwYXNzZWQgb3B0aW9uIGFuZCB0aGVuIGRhdGEtYXR0cmlidXRlIFxyXG5cclxuXHJcbiAgICAgICAgICBpZiAoc2NyYW1ibGVBcmdzLnRleHQgJiYgc2NyYW1ibGVBcmdzLnRleHQgIT09IFwiXCIgJiYgKHR5cGVvZiBzY3JhbWJsZUFyZ3MudGV4dCA9PT0gJ3N0cmluZycgfHwgX2luc3RhbmNlb2Yoc2NyYW1ibGVBcmdzLnRleHQsIFN0cmluZykpKSB7XHJcbiAgICAgICAgICAgIGRlZmluZUVuZFRleHQoc2NyYW1ibGVBcmdzLnRleHQpO1xyXG4gICAgICAgICAgICBIVE1McmVzZXQgPSB0cnVlO1xyXG4gICAgICAgICAgfSBlbHNlIGlmIChlbGVtZW50LmdldEF0dHJpYnV0ZSgnZGF0YS1zY3JhbWJsZS10ZXh0JykgJiYgZWxlbWVudC5nZXRBdHRyaWJ1dGUoJ2RhdGEtc2NyYW1ibGUtdGV4dCcpICE9PSBcIlwiKSB7XHJcbiAgICAgICAgICAgIGRlZmluZUVuZFRleHQoZWxlbWVudC5nZXRBdHRyaWJ1dGUoJ2RhdGEtc2NyYW1ibGUtdGV4dCcpKTtcclxuICAgICAgICAgICAgSFRNTHJlc2V0ID0gdHJ1ZTtcclxuICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICB2YXIgdGlja2VyID0gc2V0SW50ZXJ2YWwoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAvLyBtYXAgb3ZlciBsZXR0ZXJzIGFuZCByZXBsYWNlIHdpdGggcmFuZG9tIG9yIHJldmVydCBiYWNrIHRvIHRydXRoXHJcbiAgICAgICAgICAgIHN0YXJ0VGV4dC5tYXAoZnVuY3Rpb24gKGxldHRlciwgaSkge1xyXG4gICAgICAgICAgICAgIC8vIGJyZWFrIGlmIGEgc3BhY2VcclxuICAgICAgICAgICAgICBpZiAoJyBcXHRcXG5cXHJcXHYnLmluZGV4T2YobGV0dGVyKSA+IC0xKSByZXR1cm47IC8vIHNldCBuZXcgcmFuZG9tIGxldHRlclxyXG5cclxuICAgICAgICAgICAgICBuZXdMZXR0ZXJzW2ldID0gcmFuZG9tQ2hhcigpOyAvLyBzZXQgcmFuZG9tIHRpbWVvdXQgdG8gbWFrZSBsZXR0ZXJzIHJlc2V0IGF0IGRpZmZlcmVudCB0aW1lc1xyXG5cclxuICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHJldmVydFtpXSA9IHRydWU7XHJcbiAgICAgICAgICAgICAgfSwgcmFuZG9tVGltZSgpKTsgLy8gcmVzZXQgaW5kaXZpZHVhbCBsZXR0ZXIgaWYga2lsbCBzd2l0Y2hcclxuXHJcbiAgICAgICAgICAgICAgaWYgKHJldmVydFtpXSA9PT0gdHJ1ZSkge1xyXG4gICAgICAgICAgICAgICAgbmV3TGV0dGVyc1tpXSA9IHRydXRoW2ldO1xyXG4gICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgOyAvLyBzZXQgaHRtbFxyXG5cclxuICAgICAgICAgICAgICBlbGVtZW50LnRleHRDb250ZW50ID0gbmV3TGV0dGVycy5qb2luKCcnKTtcclxuICAgICAgICAgICAgfSk7IC8vIGtpbGwgaW50ZXJ2YWwgYWZ0ZXIgYWxsIGxldHRlciByZXR1cm5lZCB0byBub3JtYWwgdG8gc2F2ZSBzdGFja1xyXG5cclxuICAgICAgICAgICAgdmFyIGtpbGxDaGVjayA9IG5ld0xldHRlcnMubGVuZ3RoID09IHRydXRoLmxlbmd0aCAmJiBuZXdMZXR0ZXJzLmV2ZXJ5KGZ1bmN0aW9uIChlLCBpKSB7XHJcbiAgICAgICAgICAgICAgcmV0dXJuIGUgPT09IHRydXRoW2ldO1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIGlmIChraWxsQ2hlY2spIHtcclxuICAgICAgICAgICAgICBlbGVtZW50LmlubmVySFRNTCA9IHRydXRoSFRNTDtcclxuXHJcbiAgICAgICAgICAgICAgaWYgKEhUTUxyZXNldCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIGlubmVyQ29udGVudCA9IGVsZW1lbnQuY2hpbGRyZW5bMF07XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKGlubmVyQ29udGVudCAmJiBpbm5lckNvbnRlbnQgIT09IFwiXCIpIHtcclxuICAgICAgICAgICAgICAgICAgaW5uZXJDb250ZW50LnRleHRDb250ZW50ID0gbmV3TGV0dGVycy5qb2luKCcnKTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgIGVsZW1lbnQudGV4dENvbnRlbnQgPSBuZXdMZXR0ZXJzLmpvaW4oJycpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgY2xlYXJJbnRlcnZhbCh0aWNrZXIpOyAvLyBzdG9wIGxvb3BpbmdcclxuXHJcbiAgICAgICAgICAgICAgZWxlbWVudC5zZXRBdHRyaWJ1dGUoJ2RhdGEtc2NyYW1ibGUtYWN0aXZlJywgJ2ZhbHNlJyk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIDtcclxuICAgICAgICAgIH0sIHNwZWVkKTsgLy8gZW5kIHRpY2tlclxyXG4gICAgICAgIH0gLy8gZW5kIGNoZWNrIGZvciBhY3RpdmVcclxuXHJcbiAgICAgIH0pOyAvLyBlbmQgZm9yRWFjaFxyXG4gICAgfTtcclxuXHJcbiAgICAvKioqIGhlbHBlciBmdW5jdGlvbnMgKioqL1xyXG4gICAgLy8gdXRpbGl0eSBmbiB0byBnZXQgYSByYW5kb20gY2hhcmFjdGVyIFxyXG4gICAgdmFyIHJhbmRvbUNoYXIgPSBmdW5jdGlvbiByYW5kb21DaGFyKGxlbmd0aCkge1xyXG4gICAgICB2YXIgbCA9IGxlbmd0aCB8fCAxO1xyXG4gICAgICB2YXIgciA9IE1hdGgucmFuZG9tKCkudG9TdHJpbmcoMzYpLnJlcGxhY2UoL1teYS16XSsvZywgJycpLnN1YnN0cigwLCBsKTtcclxuICAgICAgaWYgKCcgXFx0XFxuXFxyXFx2Jy5pbmRleE9mKHIpIDwgMCkgcmV0dXJuIHI7XHJcbiAgICB9OyAvLyBvYmplY3QgdGVzdFxyXG5cclxuXHJcbiAgICB2YXIgaXNPYmplY3QgPSBmdW5jdGlvbiBpc09iamVjdChhKSB7XHJcbiAgICAgIHJldHVybiAhIWEgJiYgYS5jb25zdHJ1Y3RvciA9PT0gT2JqZWN0O1xyXG4gICAgfTsgLy8gZGlkIHRoZSB1c2VyIHBhc3MgYW4gb2JqZWN0IGFzIGFuIGFyZ3VtZW50P1xyXG5cclxuXHJcbiAgICB2YXIgcGFzc2VkQXNPYmplY3QgPSBpc09iamVjdChzY3JhbWJsZUFyZ3MpIHx8IF90eXBlb2Yoc2NyYW1ibGVBcmdzKSA9PSAnb2JqZWN0JzsgLy8gc2V0IGZ1bmN0aW9uIGRlZmF1bHQgYXJndW1lbnRzIGlmIGl0IHdhcyBhbiBvYmplY3RcclxuXHJcbiAgICBpZiAocGFzc2VkQXNPYmplY3QpIHtcclxuICAgICAgc2NyYW1ibGVBcmdzLnRhcmdldCA9IHR5cGVvZiBzY3JhbWJsZUFyZ3MudGFyZ2V0ICE9PSAndW5kZWZpbmVkJyAmJiBwYXNzZWRBc09iamVjdCA/IHNjcmFtYmxlQXJncy50YXJnZXQgOiAnW2RhdGEtc2NyYW1ibGVyXSc7XHJcbiAgICAgIHNjcmFtYmxlQXJncy5yYW5kb20gPSB0eXBlb2Ygc2NyYW1ibGVBcmdzLnJhbmRvbSAhPT0gJ3VuZGVmaW5lZCcgJiYgcGFzc2VkQXNPYmplY3QgPyBzY3JhbWJsZUFyZ3MucmFuZG9tIDogWzEwMDAsIDMwMDBdO1xyXG4gICAgICBzY3JhbWJsZUFyZ3Muc3BlZWQgPSB0eXBlb2Ygc2NyYW1ibGVBcmdzLnNwZWVkICE9PSAndW5kZWZpbmVkJyAmJiBwYXNzZWRBc09iamVjdCA/IHNjcmFtYmxlQXJncy5zcGVlZCA6IDEwMDtcclxuICAgICAgc2NyYW1ibGVBcmdzLnRleHQgPSB0eXBlb2Ygc2NyYW1ibGVBcmdzLnRleHQgIT09ICd1bmRlZmluZWQnICYmIHBhc3NlZEFzT2JqZWN0ID8gc2NyYW1ibGVBcmdzLnRleHQgOiBmYWxzZTtcclxuICAgIH0gLy8gdXRpbGl0eSBmbiB0byBnZXQgYSByYW5kb20gZGVsYXkgdGltZSBcclxuXHJcblxyXG4gICAgdmFyIHJhbmRvbVRpbWUgPSBmdW5jdGlvbiByYW5kb21UaW1lKCkge1xyXG4gICAgICBpZiAocGFzc2VkQXNPYmplY3QpIHtcclxuICAgICAgICByZXR1cm4gc2NyYW1ibGVBcmdzLnJhbmRvbVswXSArIChNYXRoLnJhbmRvbSgpICogKDEgLSBzY3JhbWJsZUFyZ3MucmFuZG9tWzFdKSArIHNjcmFtYmxlQXJncy5yYW5kb21bMV0pO1xyXG4gICAgICB9XHJcblxyXG4gICAgICByZXR1cm4gMTAwMCArIChNYXRoLnJhbmRvbSgpICogKDEgLSAzMDAwKSArIDMwMDApO1xyXG4gICAgfTtcclxuXHJcbiAgICBzY3JhbWJsZUZpcmUoc2NyYW1ibGVBcmdzKTtcclxuICAgIDsgLy8gZW5kIHNjcmFtYmxlRmlyZVxyXG4gIH0gY2F0Y2ggKGUpIHtcclxuICAgIGNvbnNvbGUudHJhY2UoJyVjdWgtb2g6ICVjJyArIGUgKyAnJywgJ2NvbG9yOmluZGlhbnJlZDsnLCAnY29sb3I6Y29ybmZsb3dlcmJsdWU7Jyk7XHJcbiAgfVxyXG59OyAvLyBlbmQgU2NyYW1ibGUiXX0=
